"use client";
import React, { useState, ReactNode } from "react";
import { useRouter } from "next/navigation";
import { X, Plus } from "lucide-react";
import Image from "next/image";
import { Modal, Box, IconButton, Typography } from "@mui/material";
import {
  useCreateSingleLinkMutation,
  useGetRecentLinksQuery,
} from "@/redux/api/collectionApi";
import { DotsSpinnerRotating } from "../LoadingStatesAndModals/LinkBuildingLoading";
import { showToast } from "../../Toast/Toast";
import { copyToClipboard } from "@/utils/common_functions";
// import CloseIcon from '@mui/icons-material/Close';

interface FixedWidthModalProps {
  open: boolean;
  onClose: () => void;
  title?: string;
  children: ReactNode;
  hideCloseButton?: boolean;
}

interface URLInputProps {
  initialValue?: string;
  placeholder?: string;
  setValue: (value: string) => void;
  value: string;
}

interface ProductDetails {
  storeImg: string;
  productImg: string;
  title: string;
  date: string;
  price: string;
  orderAmount: string;
  orderComission: string;
  clicks: string;
  views: string;
  order: string;
}

interface RecentLink {
  name: string;
  img_url: string;
  aff_link: string;
}

const FixedWidthModal: React.FC<FixedWidthModalProps> = ({
  open,
  onClose,
  title,
  children,
  hideCloseButton = false,
}) => {
  return (
    <Modal
      open={open}
      onClose={onClose}
      aria-labelledby="fixed-width-modal-title"
      aria-describedby="fixed-width-modal-description"
      className="flex items-center justify-center"
    >
      <Box
        className="bg-transparent rounded-[14px] shadow-lg outline-none w-[250px] max-h-[90vh] overflow-y-auto "
        sx={{ maxWidth: "250px" }} // Ensure MUI also respects the fixed width
      >
        {/* <div className="flex items-center justify-end mb-3"> */}
        {/* {title && (
              <Typography 
                id="fixed-width-modal-title"
                component="h2" 
                className="text-lg font-medium"
              >
                {title}
              </Typography>
            )} */}

        {/* {!hideCloseButton && (
              <IconButton 
                aria-label="close" 
                onClick={onClose} 
                className="p-1 ml-auto"
                size="small"
              >
                <X size={28} />
              </IconButton>
            )} */}
        {/* </div> */}
        <Box className="relative w-full mt-10 bg-[#fff] rounded-t-[14px]">
          <svg
            className="absolute left-[40%] top-[-25px]  "
            xmlns="http://www.w3.org/2000/svg"
            width="54"
            height="53"
            viewBox="0 0 54 53"
            fill="none"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M19.1321 18.7868C21.1009 16.8528 23.7243 15.7996 26.5067 15.7996C29.2891 15.7996 31.9135 16.8538 33.8813 18.7878C34.886 19.7747 35.6642 20.9341 36.1858 22.2323L36.2845 22.4772L32.1265 26.5596L32.0694 25.6717C31.9842 24.3367 31.4158 23.0998 30.4538 22.1537C29.3992 21.1178 27.9966 20.5534 26.5057 20.5534C25.0147 20.5534 23.6121 21.1188 22.5576 22.1537L8.11172 36.3439C7.05716 37.3798 6.48261 38.7565 6.48261 40.2221C6.48261 41.6866 7.05716 43.0644 8.11172 44.1003C9.16212 45.1321 10.5751 45.7036 12.0598 45.7036C13.5445 45.7036 14.9575 45.1321 16.0079 44.1003L23.2204 37.0154L23.449 37.0756C24.4464 37.339 25.475 37.4686 26.5067 37.4686C27.2662 37.4686 28.0257 37.3981 28.7717 37.2563L30.086 37.0052L19.4355 47.4662C17.4666 49.3992 14.8432 50.4534 12.0608 50.4534C9.27848 50.4534 6.65404 49.3992 4.68623 47.4652C0.620735 43.4706 0.619696 36.9715 4.68623 32.977L19.1321 18.7868Z"
              fill="#FFCD00"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M33.4376 33.743C31.4357 35.644 28.7945 36.6534 26.0125 36.607C23.2305 36.5607 20.6247 35.4629 18.6905 33.4964C17.703 32.4929 16.9449 31.3208 16.4458 30.0141L16.3514 29.7675L20.5792 25.755L20.621 26.6438C20.6831 27.9799 21.23 29.2261 22.1757 30.1881C23.2122 31.2414 24.6049 31.829 26.0956 31.8539C27.5863 31.8787 28.9984 31.3367 30.0707 30.3196L44.7593 16.3719C45.8316 15.3538 46.4298 13.9868 46.4551 12.5214C46.4804 11.0571 45.9297 9.66993 44.8932 8.61663C43.8607 7.56748 42.4578 6.97251 40.9733 6.94779C39.4888 6.92307 38.0662 7.47099 36.9981 8.48516L29.6644 15.4489L29.4369 15.3849C28.4441 15.105 27.4179 14.9583 26.3864 14.9411C25.627 14.9285 24.8664 14.9863 24.1181 15.1157L22.7997 15.3448L33.6291 5.0627C35.631 3.16277 38.2723 2.15234 41.0542 2.19867C43.8362 2.24499 46.4421 3.3428 48.3762 5.30929C52.3722 9.37096 52.2611 15.8691 48.1262 19.7954L33.4376 33.743Z"
              fill="rgba(222,44,109,1)"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M36.018 38.7229V44.1392C36.018 44.6944 35.5598 45.1444 34.9946 45.1444C34.4294 45.1444 33.9712 44.6954 33.9712 44.1392V38.7229C33.9712 38.1677 34.4284 37.7177 34.9946 37.7177C35.5598 37.7177 36.018 38.1677 36.018 38.7229ZM42.7609 40.5875C43.1609 40.9794 43.1609 41.6163 42.7609 42.0082C42.5615 42.2041 42.2996 42.3021 42.0378 42.3021C41.776 42.3021 41.5142 42.2031 41.3147 42.0082L37.4154 38.1779C37.0165 37.786 37.0165 37.1502 37.4154 36.7573C37.8154 36.3654 38.4627 36.3654 38.8617 36.7573L42.7609 40.5875ZM45.9953 34.3977C45.9953 34.9529 45.5371 35.403 44.9719 35.403H39.457C38.8929 35.403 38.4336 34.9529 38.4336 34.3977C38.4336 33.8425 38.8918 33.3924 39.457 33.3924H44.9719C45.5371 33.3924 45.9953 33.8425 45.9953 34.3977ZM7.04942 17.6928C7.04942 17.1386 7.50657 16.6875 8.07281 16.6875H13.5866C14.1508 16.6875 14.61 17.1376 14.61 17.6928C14.61 18.248 14.1518 18.6981 13.5866 18.6981H8.07281C7.50657 18.6981 7.04942 18.249 7.04942 17.6928ZM10.2411 11.4856C9.84114 11.0937 9.84114 10.4579 10.2411 10.065C10.6401 9.67206 11.2884 9.67206 11.6874 10.065L15.5866 13.8952C15.9856 14.2871 15.9856 14.923 15.5866 15.3159C15.3872 15.5118 15.1253 15.6098 14.8635 15.6098C14.6017 15.6098 14.3399 15.5118 14.1404 15.3159L10.2411 11.4856ZM16.9664 13.3094V7.89216C16.9664 7.33697 17.4246 6.88689 17.9898 6.88689C18.555 6.88689 19.0132 7.33697 19.0132 7.89216V13.3094C19.0132 13.8646 18.555 14.3147 17.9898 14.3147C17.4246 14.3147 16.9664 13.8646 16.9664 13.3094ZM48.04 18.8001C51.9465 14.9628 51.9465 8.71781 48.04 4.88042C46.1563 3.02909 43.6399 2.01055 40.9542 2.01055C38.2684 2.01055 35.752 3.02909 33.8684 4.88042L24.1644 14.4116C24.928 14.2657 25.7114 14.1912 26.5073 14.1912C27.592 14.1912 28.6538 14.33 29.6709 14.5984L36.7162 7.67784C39.0529 5.38255 42.8544 5.38255 45.1911 7.67784C47.5277 9.97313 47.5277 13.7074 45.1911 16.0017L30.7452 30.1919C30.7452 30.1929 30.7442 30.1929 30.7442 30.1929L30.7432 30.1939C29.6159 31.3013 28.1104 31.9116 26.5073 31.9116C24.9031 31.9116 23.3987 31.3013 22.2703 30.1929C21.2023 29.1438 20.6236 27.7935 20.5321 26.4178L17.2085 29.6826C17.7082 30.9267 18.4511 32.0381 19.4215 32.9903C21.3051 34.8417 23.8215 35.8602 26.5073 35.8602C29.193 35.8602 31.7094 34.8417 33.5931 32.9903L48.04 18.8001ZM15.6552 31.2084C16.236 32.3943 17.0132 33.4669 17.9742 34.413C18.9384 35.3601 20.0397 36.1245 21.2345 36.693L14.8511 42.9635C13.3123 44.4749 10.8084 44.4749 9.2697 42.9635C8.52787 42.2348 8.11956 41.2611 8.11956 40.2222C8.11956 39.1832 8.52787 38.2096 9.2697 37.4809L15.6552 31.2084ZM23.7166 23.2897C25.2564 21.7782 27.7592 21.7782 29.2979 23.2897C30.0398 24.0184 30.4481 24.992 30.4481 26.031C30.4481 27.0699 30.0398 28.0436 29.2979 28.7723C27.7582 30.2837 25.2553 30.2837 23.7166 28.7723C22.9748 28.0436 22.5665 27.0699 22.5665 26.031C22.5665 24.992 22.9748 24.0184 23.7166 23.2897ZM37.3583 20.8546C36.7765 19.6676 36.0004 18.5919 35.0403 17.6489C34.0751 16.7018 32.9749 15.9374 31.7801 15.3689L38.1635 9.09849C39.7022 7.58701 42.2061 7.58701 43.7448 9.09849C45.2836 10.61 45.2836 13.0696 43.7448 14.5811L37.3583 20.8546ZM19.1462 47.1815L28.8502 37.6503C28.0865 37.7962 27.3031 37.8708 26.5073 37.8708C25.4226 37.8708 24.3608 37.7319 23.3436 37.4635L16.2983 44.3841C15.1305 45.5312 13.596 46.1058 12.0614 46.1058C10.5279 46.1058 8.9923 45.5323 7.82449 44.3841C6.69617 43.2758 6.07486 41.798 6.07486 40.2222C6.07486 38.6454 6.69617 37.1676 7.82449 36.0602L22.2714 21.869C23.3987 20.7607 24.9052 20.1504 26.5083 20.1504C28.1125 20.1504 29.618 20.7607 30.7452 21.869C31.7801 22.8855 32.3879 24.2164 32.4803 25.6462L35.8071 22.3793C35.3063 21.1342 34.5624 20.0228 33.5941 19.0716C31.7104 17.2203 29.1941 16.2017 26.5083 16.2017C23.8226 16.2017 21.3062 17.2203 19.4225 19.0716L4.97459 33.2618C1.06806 37.0992 1.06806 43.3441 4.97459 47.1815C6.85825 49.0329 9.37464 50.0514 12.0604 50.0514C14.7461 50.0524 17.2625 49.0329 19.1462 47.1815ZM49.4862 3.45875C47.216 1.22776 44.1864 0 40.9542 0C37.7219 0 34.6923 1.22776 32.4211 3.45875L17.9742 17.6489V17.65L3.52835 31.8401C-1.17612 36.4613 -1.17612 43.981 3.52835 48.6042C5.7985 50.8342 8.82814 52.0619 12.0604 52.0619C15.2916 52.0619 18.3223 50.8342 20.5934 48.6042L35.0403 34.413L49.4872 20.2218C54.1907 15.6006 54.1907 8.08097 49.4862 3.45875Z"
              fill="black"
            />
          </svg>

          <div id="fixed-width-modal-description">{children}</div>
        </Box>
      </Box>
    </Modal>
  );
};

const URLInput = ({
  initialValue = "",
  placeholder = "https://",
  setValue,
  value,
}: URLInputProps) => {
  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setValue(e.target.value);
  };

  const handleClear = () => {
    setValue("");
  };

  return (
    <div className="flex items-center w-full h-10 px-[10px] py-2 bg-white border border-[#000] rounded-[5px] shadow-sm">
      {/* Link Icon */}
      <div className="flex-shrink-0 mr-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="17"
          height="18"
          viewBox="0 0 17 18"
          fill="none"
        >
          <path
            d="M9.87318 12.3973C9.8399 12.3643 9.79496 12.3458 9.74812 12.3458C9.70128 12.3458 9.65634 12.3643 9.62306 12.3973L7.05101 14.9695C5.86016 16.1605 3.85033 16.2866 2.53553 14.9695C1.21852 13.6524 1.34468 11.6446 2.53553 10.4537L5.10758 7.88141C5.1762 7.81279 5.1762 7.6999 5.10758 7.63127L4.22662 6.75024C4.19334 6.71728 4.1484 6.69879 4.10156 6.69879C4.05472 6.69879 4.00978 6.71728 3.9765 6.75024L1.40445 9.3225C-0.468149 11.1952 -0.468149 14.2257 1.40445 16.0963C3.27704 17.9668 6.30728 17.969 8.17766 16.0963L10.7497 13.524C10.8183 13.4554 10.8183 13.3425 10.7497 13.2739L9.87318 12.3973ZM15.5972 1.90456C13.7246 0.0318131 10.6944 0.0318131 8.824 1.90456L6.24973 4.47682C6.21678 4.51011 6.19829 4.55505 6.19829 4.60189C6.19829 4.64873 6.21678 4.69368 6.24973 4.72696L7.12848 5.60578C7.1971 5.67441 7.30998 5.67441 7.3786 5.60578L9.95065 3.03352C11.1415 1.84258 13.1513 1.7164 14.4661 3.03352C15.7831 4.35064 15.657 6.35842 14.4661 7.54937L11.8941 10.1216C11.8611 10.1549 11.8426 10.1999 11.8426 10.2467C11.8426 10.2935 11.8611 10.3385 11.8941 10.3718L12.775 11.2528C12.8437 11.3214 12.9565 11.3214 13.0252 11.2528L15.5972 8.68054C17.4676 6.8078 17.4676 3.77731 15.5972 1.90456ZM10.6722 5.90905C10.639 5.8761 10.594 5.85761 10.5472 5.85761C10.5003 5.85761 10.4554 5.8761 10.4221 5.90905L5.40861 10.9208C5.37566 10.954 5.35717 10.999 5.35717 11.0458C5.35717 11.0927 5.37566 11.1376 5.40861 11.1709L6.28515 12.0475C6.35377 12.1161 6.46665 12.1161 6.53527 12.0475L11.5466 7.0358C11.6152 6.96718 11.6152 6.85428 11.5466 6.78566L10.6722 5.90905Z"
            fill="black"
          />
        </svg>
      </div>

      {/* Input Field */}
      <input
        type="text"
        value={value}
        onChange={handleChange}
        placeholder={placeholder}
        className="flex-grow outline-none text-[16px] text-[#000]"
      />

      {/* Clear Button (X icon) - Only visible when there's text */}
      {value && (
        <button
          onClick={handleClear}
          className="flex-shrink-0 ml-2 text-[#000] bg-[#eaeaea] p-[5px] rounded-full"
          aria-label="Clear input"
        >
          <X size={16} />
        </button>
      )}
    </div>
  );
};

const singleLinkGenerator = () => {
  const router = useRouter();
  const [value, setValue] = useState("");
  const [isModalOpen, setIsModalOpen] = useState<boolean>(false);
  const [recentLink, setRecentLink] = useState<RecentLink>({
    img_url: "",
    aff_link: "",
    name: "",
  });

  const {
    data: productDetails = [],
    error,
    isLoading,
  } = useGetRecentLinksQuery(1);
  const [createSingleLink, createSingleLinkState] =
    useCreateSingleLinkMutation();

  const handleOpen = async () => {
    let obj = {
      link: value,
    };
    await createSingleLink(obj).unwrap()
      .then((res) => {
        setRecentLink(res);
        setIsModalOpen(true);
        setValue("")
      })
      .catch((res) => {
        showToast({
          message: res?.data?.message,
          type: "error"
        })
      })
  };

  const handleClose = () => setIsModalOpen(false);

  if (createSingleLinkState.isLoading) {
    return <DotsSpinnerRotating isLoading={createSingleLinkState.isLoading} />;
  }

  return (
    <div className="h-screen overflow-x-scroll [&::-webkit-scrollbar]:hidden font-inter">
      <div className="pb-20  flex flex-col items-center justify-start w-full">
        <div className="w-full flex items-center justify-start gap-[14px] py-[18px] border-b-[1px] border-b-[#f0f2f5] px-[15px]">
          <svg
            onClick={() => router.push("/create")}
            className="cursor-pointer"
            xmlns="http://www.w3.org/2000/svg"
            width="21"
            height="21"
            viewBox="0 0 21 21"
            fill="none"
          >
            <path
              d="M2.17678 10.5L20.999 10.5"
              stroke="black"
              strokeWidth="2"
              strokeLinejoin="round"
            />
            <path
              d="M9.88867 19.3888L1.58351 11.0836C1.2612 10.7613 1.26126 10.2386 1.58364 9.91622L9.88867 1.61118"
              stroke="black"
              strokeWidth="2"
              strokeLinejoin="round"
            />
          </svg>
          <p className="m-0 text-[#000] text-[18px] font-semibold leading-normal font-inter ">
            Product Link Generator
          </p>
        </div>

        <div className="px-[15px] pb-[15px] pt-[20px] flex items-center justify-between w-full">
          <div className="flex flex-col items-start justify-center gap-[5px]">
            <h2 className="text-[#000] text-[17px] font-bold font-inter leading-normal ">
              Create Single Product Link
            </h2>
            <p className="m-0 text-[#000] text-[14px] font-medium font-inter leading-normal ">
              One Link. Many Earnings
            </p>
          </div>

          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="43"
            height="44"
            viewBox="0 0 43 44"
            fill="none"
          >
            <g clipPath="url(#clip0_209_1541)">
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M40.0457 2.59122C43.8453 6.16474 43.9986 12.1771 40.3865 15.9538L35.275 21.3056C31.6799 25.0824 25.6313 25.2348 21.8318 21.6443C18.0322 18.0708 17.8789 12.0585 21.491 8.28175L26.6025 2.92994C30.1976 -0.846807 36.2462 -0.999232 40.0457 2.59122ZM35.6498 7.18091C34.406 6.01231 32.4125 6.06312 31.2199 7.29946L26.1084 12.6513C24.9327 13.8876 24.9838 15.8691 26.2276 17.0547C27.4714 18.2232 29.4649 18.1724 30.6576 16.9361L35.7691 11.5843C36.9447 10.348 36.8936 8.36643 35.6498 7.18091Z"
                fill="black"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M39.1756 3.50579C42.464 6.60509 42.5833 11.8045 39.4823 15.0731L34.3708 20.425C31.2528 23.6936 26.0221 23.8122 22.7337 20.7298C19.4453 17.6305 19.326 12.4311 22.427 9.16245L27.5385 3.81064C30.6565 0.541968 35.8872 0.423415 39.1756 3.50579ZM36.5517 6.26637C38.3067 7.92611 38.3748 10.7206 36.7051 12.465L31.5936 17.8168C29.9238 19.5612 27.1125 19.629 25.3576 17.9692C23.6026 16.3095 23.5345 13.515 25.2042 11.7706L30.3157 6.4188C31.9855 4.67438 34.7968 4.60663 36.5517 6.26637Z"
                fill="#FFC94A"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M21.1668 22.3557C24.9664 25.9292 25.1197 31.9415 21.5076 35.7182L16.3961 41.0701C12.801 44.8468 6.75239 44.9992 2.95285 41.4088C-0.846699 37.8353 -1.00004 31.8229 2.61208 28.0462L7.72358 22.6944C11.3187 18.9176 17.3673 18.7652 21.1668 22.3557ZM16.7709 26.9453C15.5271 25.7768 13.5336 25.8276 12.341 27.0639L7.22947 32.4157C6.05382 33.652 6.10494 35.6336 7.34873 36.8191C8.59253 37.9877 10.586 37.9369 11.7787 36.7005L16.8902 31.3487C18.0658 30.1124 18.0147 28.1309 16.7709 26.9453Z"
                fill="black"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M20.2811 23.2702C23.5695 26.3695 23.6888 31.5689 20.5878 34.8375L15.4763 40.1894C12.3583 43.458 7.12753 43.5766 3.83913 40.4942C0.550734 37.3949 0.431466 32.1955 3.53244 28.9268L8.64394 23.575C11.762 20.3064 16.9927 20.1878 20.2811 23.2702ZM17.6572 26.0308C19.4122 27.6905 19.4803 30.485 17.8106 32.2294L12.6991 37.5812C11.0293 39.3256 8.21798 39.3934 6.46303 37.7336C4.70809 36.0739 4.63993 33.2794 6.30969 31.535L11.4212 26.1832C13.0909 24.4388 15.9023 24.371 17.6572 26.0308Z"
                fill="#FFC94A"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M30.6065 12.4819C31.8844 13.6844 31.9355 15.6998 30.7258 16.97L16.9247 31.4165C15.715 32.6867 13.6875 32.7375 12.4096 31.535C11.1317 30.3326 11.0806 28.3172 12.2903 27.047L26.0914 12.6005C27.3011 11.3303 29.3286 11.2795 30.6065 12.4819Z"
                fill="black"
              />
              <path
                d="M29.2998 16.5983C30.2983 15.5531 30.4869 14.12 29.7209 13.3974C28.9549 12.6748 27.5245 12.9363 26.5259 13.9814L13.7109 27.3947C12.7123 28.4399 12.5238 29.873 13.2897 30.5956C14.0557 31.3182 15.4861 31.0567 16.4847 30.0116L29.2998 16.5983Z"
                fill="#FFC94A"
              />
              <path
                d="M19.9238 44C23.4996 44 26.3983 41.1186 26.3983 37.5643C26.3983 34.0099 23.4996 31.1285 19.9238 31.1285C16.348 31.1285 13.4492 34.0099 13.4492 37.5643C13.4492 41.1186 16.348 44 19.9238 44Z"
                fill="black"
              />
              <path
                d="M19.9233 42.7298C22.7933 42.7298 25.1199 40.4171 25.1199 37.5643C25.1199 34.7114 22.7933 32.3987 19.9233 32.3987C17.0532 32.3987 14.7266 34.7114 14.7266 37.5643C14.7266 40.4171 17.0532 42.7298 19.9233 42.7298Z"
                fill="#1DBF73"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M19.9228 39.9861C20.2807 39.9861 20.5703 39.6982 20.5703 39.3425V35.769C20.5703 35.4134 20.2807 35.1255 19.9228 35.1255C19.565 35.1255 19.2754 35.4134 19.2754 35.769V39.3425C19.2754 39.6982 19.565 39.9861 19.9228 39.9861Z"
                fill="white"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M17.4863 37.5643C17.4863 37.9199 17.776 38.2078 18.1338 38.2078H21.7289C22.0867 38.2078 22.3763 37.9199 22.3763 37.5643C22.3763 37.2086 22.0867 36.9207 21.7289 36.9207H18.1338C17.776 36.9207 17.4863 37.2086 17.4863 37.5643Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_209_1541">
                <rect width="43" height="44" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </div>

        <div className="rounded-[14px] bg-[#fcfcfc] p-[15px] w-full flex flex-col items-start justify-center gap-[20px]">
          <div className="flex flex-col items-start justify-start gap-[9px] w-full">
            <p className="m-0 text-[14px] font-normal font-inter leading-[24px]">
              Paste your Product <span className="font-medium">URL</span>
            </p>

            <div className="flex items-center justify-between w-full gap-4">
              <URLInput
                initialValue="https://www.myntra.com/tops/roadster-lifestyle-..."
                setValue={setValue}
                value={value}
              />
            </div>
          </div>
          <button
            onClick={handleOpen}
            className={
              " py-3 mb-2 w-full rounded-[7px] bg-[rgba(222,44,109,1)] hover:bg-[#e03d73] transition-color cursor-pointer flex items-center justify-center gap-2"
            }
            type="button"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="19"
              viewBox="0 0 20 19"
              fill="none"
            >
              <g clipPath="url(#clip0_648_1393)">
                <path
                  d="M9.59362 7.4183C9.72425 7.02643 10.2776 7.02643 10.4082 7.4183L11.1742 9.71849C11.3428 10.2241 11.6268 10.6836 12.0038 11.0603C12.3808 11.4371 12.8404 11.7209 13.3461 11.8892L15.6451 12.6552C16.037 12.7858 16.037 13.3392 15.6451 13.4698L13.3449 14.2357C12.8393 14.4043 12.3799 14.6884 12.0031 15.0654C11.6263 15.4424 11.3425 15.9019 11.1742 16.4077L10.4082 18.7067C10.3801 18.7925 10.3255 18.8672 10.2524 18.9202C10.1793 18.9732 10.0912 19.0017 10.0009 19.0017C9.91062 19.0017 9.82261 18.9732 9.74947 18.9202C9.67633 18.8672 9.62178 18.7925 9.59362 18.7067L8.82768 16.4065C8.65921 15.901 8.37534 15.4416 7.99856 15.0649C7.62179 14.6881 7.16245 14.4042 6.65693 14.2357L4.35675 13.4698C4.27094 13.4416 4.19621 13.3871 4.14324 13.314C4.09026 13.2408 4.06174 13.1528 4.06174 13.0625C4.06174 12.9722 4.09026 12.8842 4.14324 12.811C4.19621 12.7379 4.27094 12.6833 4.35675 12.6552L6.65693 11.8892C7.16245 11.7208 7.62179 11.4369 7.99856 11.0601C8.37534 10.6833 8.65921 10.224 8.82768 9.71849L9.59362 7.4183ZM5.00631 1.36324C5.02334 1.31182 5.05614 1.26707 5.10005 1.23535C5.14397 1.20363 5.19676 1.18656 5.25093 1.18656C5.30511 1.18656 5.3579 1.20363 5.40181 1.23535C5.44573 1.26707 5.47853 1.31182 5.49556 1.36324L5.95512 2.74312C6.16056 3.35824 6.64268 3.84037 7.25781 4.0458L8.63769 4.50537C8.68911 4.5224 8.73386 4.5552 8.76558 4.59911C8.7973 4.64303 8.81437 4.69582 8.81437 4.74999C8.81437 4.80416 8.7973 4.85696 8.76558 4.90087C8.73386 4.94479 8.68911 4.97759 8.63769 4.99462L7.25781 5.45418C6.95425 5.55492 6.67841 5.72515 6.45226 5.95131C6.2261 6.17747 6.05587 6.45331 5.95512 6.75687L5.49556 8.13674C5.47853 8.18817 5.44573 8.23292 5.40181 8.26464C5.3579 8.29635 5.30511 8.31343 5.25093 8.31343C5.19676 8.31343 5.14397 8.29635 5.10005 8.26464C5.05614 8.23292 5.02334 8.18817 5.00631 8.13674L4.54675 6.75687C4.446 6.45331 4.27577 6.17747 4.04961 5.95131C3.82345 5.72515 3.54761 5.55492 3.24406 5.45418L1.86418 4.99462C1.81276 4.97759 1.76801 4.94479 1.73629 4.90087C1.70457 4.85696 1.6875 4.80416 1.6875 4.74999C1.6875 4.69582 1.70457 4.64303 1.73629 4.59911C1.76801 4.5552 1.81276 4.5224 1.86418 4.50537L3.24406 4.0458C3.54761 3.94506 3.82345 3.77483 4.04961 3.54867C4.27577 3.32251 4.446 3.04667 4.54675 2.74312L5.00631 1.36324ZM13.4007 0.117554C13.4125 0.0837419 13.4344 0.0544221 13.4636 0.0336713C13.4928 0.0129205 13.5276 0.00177002 13.5634 0.00177002C13.5992 0.00177002 13.6341 0.0129205 13.6633 0.0336713C13.6924 0.0544221 13.7144 0.0837419 13.7261 0.117554L14.0325 1.03668C14.1691 1.44755 14.4909 1.76937 14.9017 1.90593L15.8209 2.2123C15.8547 2.22403 15.884 2.24599 15.9048 2.27515C15.9255 2.30431 15.9367 2.3392 15.9367 2.37499C15.9367 2.41078 15.9255 2.44568 15.9048 2.47483C15.884 2.50399 15.8547 2.52596 15.8209 2.53768L14.9017 2.84405C14.6994 2.91174 14.5156 3.02549 14.3648 3.17634C14.2139 3.32718 14.1002 3.511 14.0325 3.7133L13.7261 4.63243C13.7144 4.66624 13.6924 4.69556 13.6633 4.71631C13.6341 4.73706 13.5992 4.74821 13.5634 4.74821C13.5276 4.74821 13.4928 4.73706 13.4636 4.71631C13.4344 4.69556 13.4125 4.66624 13.4007 4.63243L13.0944 3.7133C13.0267 3.511 12.9129 3.32718 12.7621 3.17634C12.6112 3.02549 12.4274 2.91174 12.2251 2.84405L11.3072 2.53768C11.2734 2.52596 11.2441 2.50399 11.2233 2.47483C11.2026 2.44568 11.1914 2.41078 11.1914 2.37499C11.1914 2.3392 11.2026 2.30431 11.2233 2.27515C11.2441 2.24599 11.2734 2.22403 11.3072 2.2123L12.2263 1.90593C12.6372 1.76937 12.959 1.44755 13.0956 1.03668L13.4007 0.117554Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_648_1393">
                  <rect
                    width="19"
                    height="19"
                    fill="white"
                    transform="translate(0.5)"
                  />
                </clipPath>
              </defs>
            </svg>
            <p className="m-0 text-white text-[16px] font-semibold font-inter leading-normal">
              Generate My Affiliate link{" "}
            </p>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="19"
              viewBox="0 0 20 19"
              fill="none"
            >
              <g clipPath="url(#clip0_648_1393)">
                <path
                  d="M9.59362 7.4183C9.72425 7.02643 10.2776 7.02643 10.4082 7.4183L11.1742 9.71849C11.3428 10.2241 11.6268 10.6836 12.0038 11.0603C12.3808 11.4371 12.8404 11.7209 13.3461 11.8892L15.6451 12.6552C16.037 12.7858 16.037 13.3392 15.6451 13.4698L13.3449 14.2357C12.8393 14.4043 12.3799 14.6884 12.0031 15.0654C11.6263 15.4424 11.3425 15.9019 11.1742 16.4077L10.4082 18.7067C10.3801 18.7925 10.3255 18.8672 10.2524 18.9202C10.1793 18.9732 10.0912 19.0017 10.0009 19.0017C9.91062 19.0017 9.82261 18.9732 9.74947 18.9202C9.67633 18.8672 9.62178 18.7925 9.59362 18.7067L8.82768 16.4065C8.65921 15.901 8.37534 15.4416 7.99856 15.0649C7.62179 14.6881 7.16245 14.4042 6.65693 14.2357L4.35675 13.4698C4.27094 13.4416 4.19621 13.3871 4.14324 13.314C4.09026 13.2408 4.06174 13.1528 4.06174 13.0625C4.06174 12.9722 4.09026 12.8842 4.14324 12.811C4.19621 12.7379 4.27094 12.6833 4.35675 12.6552L6.65693 11.8892C7.16245 11.7208 7.62179 11.4369 7.99856 11.0601C8.37534 10.6833 8.65921 10.224 8.82768 9.71849L9.59362 7.4183ZM5.00631 1.36324C5.02334 1.31182 5.05614 1.26707 5.10005 1.23535C5.14397 1.20363 5.19676 1.18656 5.25093 1.18656C5.30511 1.18656 5.3579 1.20363 5.40181 1.23535C5.44573 1.26707 5.47853 1.31182 5.49556 1.36324L5.95512 2.74312C6.16056 3.35824 6.64268 3.84037 7.25781 4.0458L8.63769 4.50537C8.68911 4.5224 8.73386 4.5552 8.76558 4.59911C8.7973 4.64303 8.81437 4.69582 8.81437 4.74999C8.81437 4.80416 8.7973 4.85696 8.76558 4.90087C8.73386 4.94479 8.68911 4.97759 8.63769 4.99462L7.25781 5.45418C6.95425 5.55492 6.67841 5.72515 6.45226 5.95131C6.2261 6.17747 6.05587 6.45331 5.95512 6.75687L5.49556 8.13674C5.47853 8.18817 5.44573 8.23292 5.40181 8.26464C5.3579 8.29635 5.30511 8.31343 5.25093 8.31343C5.19676 8.31343 5.14397 8.29635 5.10005 8.26464C5.05614 8.23292 5.02334 8.18817 5.00631 8.13674L4.54675 6.75687C4.446 6.45331 4.27577 6.17747 4.04961 5.95131C3.82345 5.72515 3.54761 5.55492 3.24406 5.45418L1.86418 4.99462C1.81276 4.97759 1.76801 4.94479 1.73629 4.90087C1.70457 4.85696 1.6875 4.80416 1.6875 4.74999C1.6875 4.69582 1.70457 4.64303 1.73629 4.59911C1.76801 4.5552 1.81276 4.5224 1.86418 4.50537L3.24406 4.0458C3.54761 3.94506 3.82345 3.77483 4.04961 3.54867C4.27577 3.32251 4.446 3.04667 4.54675 2.74312L5.00631 1.36324ZM13.4007 0.117554C13.4125 0.0837419 13.4344 0.0544221 13.4636 0.0336713C13.4928 0.0129205 13.5276 0.00177002 13.5634 0.00177002C13.5992 0.00177002 13.6341 0.0129205 13.6633 0.0336713C13.6924 0.0544221 13.7144 0.0837419 13.7261 0.117554L14.0325 1.03668C14.1691 1.44755 14.4909 1.76937 14.9017 1.90593L15.8209 2.2123C15.8547 2.22403 15.884 2.24599 15.9048 2.27515C15.9255 2.30431 15.9367 2.3392 15.9367 2.37499C15.9367 2.41078 15.9255 2.44568 15.9048 2.47483C15.884 2.50399 15.8547 2.52596 15.8209 2.53768L14.9017 2.84405C14.6994 2.91174 14.5156 3.02549 14.3648 3.17634C14.2139 3.32718 14.1002 3.511 14.0325 3.7133L13.7261 4.63243C13.7144 4.66624 13.6924 4.69556 13.6633 4.71631C13.6341 4.73706 13.5992 4.74821 13.5634 4.74821C13.5276 4.74821 13.4928 4.73706 13.4636 4.71631C13.4344 4.69556 13.4125 4.66624 13.4007 4.63243L13.0944 3.7133C13.0267 3.511 12.9129 3.32718 12.7621 3.17634C12.6112 3.02549 12.4274 2.91174 12.2251 2.84405L11.3072 2.53768C11.2734 2.52596 11.2441 2.50399 11.2233 2.47483C11.2026 2.44568 11.1914 2.41078 11.1914 2.37499C11.1914 2.3392 11.2026 2.30431 11.2233 2.27515C11.2441 2.24599 11.2734 2.22403 11.3072 2.2123L12.2263 1.90593C12.6372 1.76937 12.959 1.44755 13.0956 1.03668L13.4007 0.117554Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_648_1393">
                  <rect
                    width="19"
                    height="19"
                    fill="white"
                    transform="translate(0.5)"
                  />
                </clipPath>
              </defs>
            </svg>
          </button>
        </div>

        <div className="flex flex-col items-start justify-start gap-[18px] w-full py-5">
          <div className="px-[15px] flex items-center justify-between w-full">
            <h4 className="text-[#000] text-[16px] font-bold font-inter leading-normal ">
              Recently Created
            </h4>
            <button className="text-[12px] text-[#000] font-medium underline cursor-pointer" onClick={() => router.push("/profile?type=products")}>
              View All
            </button>
          </div>

          <div className="flex items-center justify-start gap-[11px] px-[15px] overflow-x-scroll [&::-webkit-scrollbar]:hidden  scroll-smooth max-w-full">
            {productDetails.map((product: any, index: number) => (
              <div
                key={product.id}
                className="flex flex-col items-center justify-center rounded-[7px] border-[1px] border-[#eaeaea] min-w-[340px] max-w-[340px] relative "
              >
                <div className="w-full flex items-center justify-center gap-[10px] px-2 pt-2 pb-1">
                  <div className="flex items-center justify-center mb-[14px] relative h-[100px] w-[100px] ">
                    <Image
                      className="h-full max-h-[90px] min-h-[90px] object-contain"
                      src={product.img_url}
                      alt="product"
                      height={100}
                      width={140}
                    />
                    <Image
                      className="absolute left-[35%] bottom-[-12px]"
                      src={product.store_img}
                      alt="store"
                      height={20}
                      width={30}
                    />
                  </div>

                  <div className="flex flex-col items-start justify-center w-full">
                    <div className="flex flex-col items-start justify-center mb-2">
                      <h2 className="text-[#000] text-[14px] font-semibold font-inter leading-[119%] ellipsis line-clamp-1 overflow-hidden ">
                        {product.name}
                      </h2>
                      <p className="text-[10px] text-[#a4a4a4] ">
                        {new Date(product.created_at).toLocaleDateString(
                          "en-US",
                          {
                            year: "numeric",
                            month: "short",
                            day: "numeric",
                            hour: "2-digit",
                            minute: "2-digit",
                            hour12: true,
                          }
                        )}
                      </p>
                    </div>
                    <div className="flex flex-col items-start justify-center gap-1">
                      {/* <p className="m-0 text-[#000] text-[12px] font-medium font-inter leading-[120%]">
                                                                ₹{"N/A"}
                                                              </p> */}
                      {/* <div className="flex items-center justify-start gap-[7px]">
                                                                <div className="border-[0.5px] border-[#000] px-[6px] py-1 rounded-[3px] flex flex-col items-start justify-center gap-1 min-w-[55px]">
                                                                  <div className="flex items-center justify-start gap-1">
                                                                    <p className="text-[10px] text-[#6b6565] font-regular font-inter leading-[120%] ">
                                                                      Clicks
                                                                    </p>
                                                                    <svg
                                                                      xmlns="http://www.w3.org/2000/svg"
                                                                      width="10"
                                                                      height="10"
                                                                      viewBox="0 0 6 6"
                                                                      fill="none"
                                                                    >
                                                                      <path
                                                                        d="M2.45596 0C2.50312 0 2.54834 0.0200135 2.58169 0.0556377C2.61504 0.0912619 2.63377 0.139579 2.63377 0.189959V0.949794C2.63377 1.00017 2.61504 1.04849 2.58169 1.08412C2.54834 1.11974 2.50312 1.13975 2.45596 1.13975C2.4088 1.13975 2.36357 1.11974 2.33022 1.08412C2.29688 1.04849 2.27814 1.00017 2.27814 0.949794V0.189959C2.27814 0.139579 2.29688 0.0912619 2.33022 0.0556377C2.36357 0.0200135 2.4088 0 2.45596 0ZM1.07256 0.611667C1.08908 0.593977 1.1087 0.579942 1.1303 0.570366C1.15191 0.560789 1.17507 0.55586 1.19845 0.55586C1.22184 0.55586 1.245 0.560789 1.2666 0.570366C1.28821 0.579942 1.30783 0.593977 1.32435 0.611667L1.82721 1.14925C1.84419 1.16677 1.85773 1.18774 1.86705 1.21091C1.87637 1.23409 1.88128 1.25901 1.88148 1.28424C1.88169 1.30946 1.87719 1.33447 1.86825 1.35782C1.85931 1.38116 1.8461 1.40237 1.82941 1.42021C1.81271 1.43804 1.79286 1.45215 1.77101 1.4617C1.74916 1.47125 1.72574 1.47606 1.70213 1.47584C1.67852 1.47562 1.65519 1.47038 1.63349 1.46042C1.6118 1.45047 1.59218 1.436 1.57578 1.41785L1.07292 0.880649C1.03958 0.845027 1.02086 0.796719 1.02086 0.746348C1.02086 0.695978 1.03958 0.64767 1.07292 0.612047M3.83971 0.612047C3.85627 0.629693 3.8694 0.650655 3.87837 0.673733C3.88733 0.696811 3.89195 0.721552 3.89195 0.746538C3.89195 0.771524 3.88733 0.796265 3.87837 0.819343C3.8694 0.842421 3.85627 0.863383 3.83971 0.881029L3.33578 1.41785C3.31938 1.436 3.29976 1.45047 3.27806 1.46042C3.25637 1.47038 3.23304 1.47562 3.20943 1.47584C3.18582 1.47606 3.1624 1.47125 3.14055 1.4617C3.1187 1.45215 3.09884 1.43804 3.08215 1.42021C3.06545 1.40237 3.05225 1.38116 3.04331 1.35782C3.03437 1.33447 3.02987 1.30946 3.03007 1.28424C3.03028 1.25901 3.03518 1.23409 3.0445 1.21091C3.05382 1.18774 3.06737 1.16677 3.08435 1.14925L3.58721 0.612047C3.62056 0.576436 3.66577 0.55643 3.71292 0.55643C3.76007 0.55643 3.80529 0.576436 3.83864 0.612047M0.5 2.08955C0.5 2.03917 0.518734 1.99085 0.552081 1.95523C0.585427 1.9196 0.630655 1.89959 0.677814 1.89959H1.38907C1.43623 1.89959 1.48146 1.9196 1.5148 1.95523C1.54815 1.99085 1.56689 2.03917 1.56689 2.08955C1.56689 2.13993 1.54815 2.18824 1.5148 2.22387C1.48146 2.25949 1.43623 2.27951 1.38907 2.27951H0.677814C0.630655 2.27951 0.585427 2.25949 0.552081 2.22387C0.518734 2.18824 0.5 2.13993 0.5 2.08955ZM2.45596 2.29166V5.8097C2.45589 5.84732 2.46629 5.88411 2.48582 5.91541C2.50536 5.94672 2.53315 5.97112 2.56568 5.98552C2.59821 5.99993 2.63401 6.00369 2.66855 5.99633C2.70308 5.98897 2.73479 5.97083 2.75966 5.94419L3.67007 4.9716C3.80343 4.8291 3.98431 4.74901 4.17293 4.74897H5.32232C5.35923 4.74894 5.39522 4.73664 5.42529 4.71378C5.45536 4.69091 5.47803 4.65862 5.49015 4.62137C5.50226 4.58412 5.50323 4.54377 5.49291 4.50591C5.48259 4.46805 5.4615 4.43456 5.43257 4.41008L2.74402 2.14236C2.71779 2.12022 2.68625 2.10642 2.65303 2.10256C2.6198 2.09869 2.58622 2.10491 2.55615 2.12049C2.52608 2.13608 2.50073 2.16041 2.48301 2.19068C2.46528 2.22096 2.45591 2.25596 2.45596 2.29166Z"
                                                                        fill="black"
                                                                      />
                                                                    </svg>
                                                                  </div>
                                                                  <p className="m-0 text-[12px] text-[#000] font-bold font-inter leading-[120%] ">
                                                                    {product.clicks}
                                                                  </p>
                                                                </div>
                                        
                                                                <div className="border-[0.5px] border-[#000] px-[6px] py-1 rounded-[3px] flex flex-col items-start justify-center gap-1 min-w-[55px]">
                                                                  <div className="flex items-center justify-start gap-1">
                                                                    <p className="text-[10px] text-[#6b6565] font-regular font-inter leading-[120%] ">
                                                                      Earnings
                                                                    </p>
                                                                    <svg
                                                                      xmlns="http://www.w3.org/2000/svg"
                                                                      width="11"
                                                                      height="8"
                                                                      viewBox="0 0 11 8"
                                                                      fill="none"
                                                                    >
                                                                      <path
                                                                        d="M9.75423 3.55514C9.98669 3.82086 9.98669 4.17957 9.75423 4.44486C9.02202 5.28014 7.26532 7 5.21436 7C3.1634 7 1.4067 5.28014 0.674495 4.44486C0.561395 4.31763 0.5 4.16111 0.5 4C0.5 3.83889 0.561395 3.68237 0.674495 3.55514C1.4067 2.71986 3.1634 1 5.21436 1C7.26532 1 9.02202 2.71986 9.75423 3.55514Z"
                                                                        stroke="black"
                                                                        strokeWidth="0.8"
                                                                        strokeLinecap="round"
                                                                        strokeLinejoin="round"
                                                                      />
                                                                      <path
                                                                        d="M5.21345 5.28572C5.92353 5.28572 6.49916 4.71009 6.49916 4.00001C6.49916 3.28993 5.92353 2.71429 5.21345 2.71429C4.50337 2.71429 3.92773 3.28993 3.92773 4.00001C3.92773 4.71009 4.50337 5.28572 5.21345 5.28572Z"
                                                                        stroke="black"
                                                                        strokeWidth="0.8"
                                                                        strokeLinecap="round"
                                                                        strokeLinejoin="round"
                                                                      />
                                                                    </svg>
                                                                  </div>
                                                                  <p className="m-0 text-[12px] text-[#000] font-bold font-inter leading-[120%] ">
                                                                    {product.approved_amount}
                                                                  </p>
                                                                </div>
                                        
                                                                <div className="border-[0.5px] border-[#000] px-[6px] py-1 rounded-[3px] flex flex-col items-start justify-center gap-1 min-w-[55px]">
                                                                  <div className="flex items-center justify-start gap-1">
                                                                    <p className="text-[10px] text-[#6b6565] font-regular font-inter leading-[120%] ">
                                                                      Orders
                                                                    </p>
                                                                    <svg
                                                                      xmlns="http://www.w3.org/2000/svg"
                                                                      width="9"
                                                                      height="9"
                                                                      viewBox="0 0 9 9"
                                                                      fill="none"
                                                                    >
                                                                      <g clipPath="url(#clip0_652_135)">
                                                                        <path
                                                                          fillRule="evenodd"
                                                                          clipRule="evenodd"
                                                                          d="M5.92732 4.57296C5.9506 4.59618 5.96907 4.62377 5.98167 4.65414C5.99428 4.68451 6.00076 4.71707 6.00076 4.74996C6.00076 4.78284 5.99428 4.8154 5.98167 4.84578C5.96907 4.87615 5.9506 4.90374 5.92732 4.92696L4.42732 6.42696C4.40409 6.45024 4.37651 6.46871 4.34613 6.48131C4.31576 6.49392 4.2832 6.50041 4.25032 6.50041C4.21743 6.50041 4.18487 6.49392 4.1545 6.48131C4.12413 6.46871 4.09654 6.45024 4.07332 6.42696L3.32332 5.67696C3.30007 5.65371 3.28163 5.62612 3.26905 5.59575C3.25647 5.56538 3.25 5.53283 3.25 5.49996C3.25 5.46709 3.25647 5.43454 3.26905 5.40417C3.28163 5.3738 3.30007 5.3462 3.32332 5.32296C3.37026 5.27602 3.43393 5.24964 3.50032 5.24964C3.53319 5.24964 3.56574 5.25612 3.59611 5.2687C3.62648 5.28128 3.65407 5.29971 3.67732 5.32296L4.25032 5.89646L5.57332 4.57296C5.59654 4.54968 5.62413 4.53121 5.6545 4.5186C5.68487 4.506 5.71743 4.49951 5.75032 4.49951C5.7832 4.49951 5.81576 4.506 5.84613 4.5186C5.87651 4.53121 5.90409 4.54968 5.92732 4.57296Z"
                                                                          fill="black"
                                                                        />
                                                                        <path
                                                                          d="M4.5 1C4.83152 1 5.14946 1.1317 5.38388 1.36612C5.6183 1.60054 5.75 1.91848 5.75 2.25V2.5H3.25V2.25C3.25 1.91848 3.3817 1.60054 3.61612 1.36612C3.85054 1.1317 4.16848 1 4.5 1ZM6.25 2.5V2.25C6.25 1.78587 6.06563 1.34075 5.73744 1.01256C5.40925 0.684374 4.96413 0.5 4.5 0.5C4.03587 0.5 3.59075 0.684374 3.26256 1.01256C2.93437 1.34075 2.75 1.78587 2.75 2.25V2.5H1V7.5C1 7.76522 1.10536 8.01957 1.29289 8.20711C1.48043 8.39464 1.73478 8.5 2 8.5H7C7.26522 8.5 7.51957 8.39464 7.70711 8.20711C7.89464 8.01957 8 7.76522 8 7.5V2.5H6.25ZM1.5 3H7.5V7.5C7.5 7.63261 7.44732 7.75979 7.35355 7.85355C7.25979 7.94732 7.13261 8 7 8H2C1.86739 8 1.74021 7.94732 1.64645 7.85355C1.55268 7.75979 1.5 7.63261 1.5 7.5V3Z"
                                                                          fill="black"
                                                                        />
                                                                      </g>
                                                                      <defs>
                                                                        <clipPath id="clip0_652_135">
                                                                          <rect
                                                                            width="8"
                                                                            height="8"
                                                                            fill="white"
                                                                            transform="translate(0.5 0.5)"
                                                                          />
                                                                        </clipPath>
                                                                      </defs>
                                                                    </svg>
                                                                  </div>
                                                                  <p className="m-0 text-[12px] text-[#000] font-bold font-inter leading-[120%] ">
                                                                    {product.purchased_quantity}
                                                                  </p>
                                                                </div>
                                                              </div> */}
                    </div>
                    <div className="flex items-center justify-start gap-[15px] mt-2 mb-1">
                      <div className="min-w-[60px] flex flex-col items-start justify-center py-0.5 gap-[3px] border-r-[0.5px] border-r-[#000]/50 rounded-[3px]">
                        <h4 className="text-[#6b6565] text-[12px] font-medium font-inter leading-[120%] ">
                          Orders
                        </h4>
                        <p className="text-[#000] text-[14px] font-bold font-inter leading-[120%]">
                          {product.purchased_quantity}
                        </p>
                      </div>

                      <div className="min-w-[90px] flex flex-col items-start justify-center py-0.5 gap-[3px] ">
                        <h4 className="text-[#6b6565] text-[12px] font-medium font-inter leading-[120%] ">
                          Commissions
                        </h4>
                        <p className="text-[#000] text-[14px] font-bold font-inter leading-[120%]">
                          ₹{product.total_earning}
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                {/* <svg
                  className="absolute top-3 right-3 cursor-pointer hover:scale-105"
                  xmlns="http://www.w3.org/2000/svg"
                  width="4"
                  height="12"
                  viewBox="0 0 4 12"
                  fill="none"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M3.53906 10.6154C3.53906 11.3801 2.91915 12 2.15445 12C1.38975 12 0.769833 11.3801 0.769833 10.6154C0.769833 9.85068 1.38975 9.23077 2.15445 9.23077C2.91915 9.23077 3.53906 9.85068 3.53906 10.6154Z"
                    fill="#000"
                  />
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M3.53906 5.99997C3.53906 6.76467 2.91915 7.38458 2.15445 7.38458C1.38975 7.38458 0.769833 6.76467 0.769833 5.99997C0.769833 5.23527 1.38975 4.61535 2.15445 4.61535C2.91915 4.61535 3.53906 5.23527 3.53906 5.99997Z"
                    fill="#000"
                  />
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M3.53906 1.38464C3.53906 2.14934 2.91915 2.76926 2.15445 2.76926C1.38975 2.76926 0.769833 2.14934 0.769833 1.38464C0.769833 0.61994 1.38975 2.67534e-05 2.15445 2.68203e-05C2.91915 2.68871e-05 3.53906 0.61994 3.53906 1.38464Z"
                    fill="#000"
                  />
                </svg> */}
                <button
                  className="w-full rounded-b-[7px] bg-[rgba(222,44,109,1)] flex items-center justify-center gap-2 py-1 cursor-pointer"
                  onClick={() => {
                    copyToClipboard(product.aff_link);
                  }}
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="13"
                    viewBox="0 0 14 13"
                    fill="none"
                  >
                    <path
                      d="M7.80719 5.69271C7.36123 5.24694 6.75649 4.99652 6.12595 4.99652C5.4954 4.99652 4.89066 5.24694 4.4447 5.69271L2.76291 7.37395C2.31695 7.81992 2.06641 8.42478 2.06641 9.05547C2.06641 9.68616 2.31695 10.291 2.76291 10.737C3.20888 11.183 3.81374 11.4335 4.44443 11.4335C5.07512 11.4335 5.67998 11.183 6.12595 10.737L6.96657 9.89637"
                      stroke="white"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                    />
                    <path
                      d="M6.125 7.37396C6.57096 7.81974 7.1757 8.07015 7.80624 8.07015C8.43679 8.07015 9.04153 7.81974 9.48749 7.37396L11.1693 5.69272C11.6152 5.24675 11.8658 4.64189 11.8658 4.0112C11.8658 3.38051 11.6152 2.77565 11.1693 2.32969C10.7233 1.88372 10.1185 1.63318 9.48776 1.63318C8.85707 1.63318 8.25221 1.88372 7.80624 2.32969L6.96562 3.17031"
                      stroke="white"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                    />
                  </svg>
                  <p className="m-0 text-[12px] text-[#fff] font-normal font-inter leading-normal ">
                    Copy Link
                  </p>
                </button>
              </div>
            ))}
          </div>
        </div>

        <FixedWidthModal
          open={isModalOpen}
          onClose={handleClose}
        // title="Subscribe"
        >
          <div className="w-full flex flex-col items-center justify-center">
            <div className="pt-[61px] px-[15px] pb-[22px] flex flex-col items-center justify-center ">
              <h3 className=" text-[#000] text-[16px] font-inter font-bold leading-normal text-center ">
                Your Link is ready to share!
              </h3>
              <p className="text-center text-[#a7a7a7] font-inter font-medium text-[12px] leading-normal ">
                Copy. Share. Earn.
              </p>
              <Image
                className="my-3"
                src={recentLink.img_url}
                alt="product"
                height={100}
                width={100}
              />
              <span className="text-[#000] text-center font-inter font-medium text-[12px] leading-[169%] text-ellipsis line-clamp-2 ">
                {recentLink.name}
              </span>
            </div>

            <button
              className="w-full rounded-b-[14px] bg-[rgba(222,44,109,1)] flex items-center justify-center gap-2 py-2 cursor-pointer"
              onClick={() => {
                copyToClipboard(recentLink.aff_link)
                handleClose()
              }}
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                viewBox="0 0 14 14"
                fill="none"
              >
                <g clipPath="url(#clip0_542_6027)">
                  <path
                    d="M8.02929 5.97073C7.48324 5.42491 6.74277 5.11829 5.9707 5.11829C5.19862 5.11829 4.45815 5.42491 3.9121 5.97073L1.85284 8.02933C1.30677 8.57539 1 9.31601 1 10.0883C1 10.8605 1.30677 11.6011 1.85284 12.1472C2.3989 12.6933 3.13952 13 3.91177 13C4.68401 13 5.42463 12.6933 5.9707 12.1472L6.99999 11.1179"
                    stroke="white"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                  <path
                    d="M5.9707 8.02929C6.51676 8.57512 7.25722 8.88174 8.0293 8.88174C8.80137 8.88174 9.54184 8.57512 10.0879 8.02929L12.1472 5.9707C12.6932 5.42463 13 4.68401 13 3.91177C13 3.13952 12.6932 2.3989 12.1472 1.85284C11.6011 1.30677 10.8605 1 10.0882 1C9.31598 1 8.57536 1.30677 8.0293 1.85284L7 2.88213"
                    stroke="white"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_542_6027">
                    <rect width="14" height="14" fill="white" />
                  </clipPath>
                </defs>
              </svg>
              <p className="m-0 text-[15px] text-[#fff] font-normal font-inter leading-normal  ">
                Copy Link
              </p>
            </button>
          </div>
        </FixedWidthModal>
      </div>
    </div>
  );
};

export default singleLinkGenerator;
